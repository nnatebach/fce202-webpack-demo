"use strict";fc_defined("FCBase")||fc_define("FCBase"),FCBase.rss={locale:"en-US",path:"shared/rss/",file:"rss.php",cors:!0,async:!1,data:[],callback:null},$.rssFeed=function(e,t){var a=function(e){return("0"+e).slice(-2)};$.ajax({url:FCBase.rss.path+FCBase.rss.file,crossDomain:!0,cache:!1,async:FCBase.rss.async,method:"POST",dataType:"json",data:{data:JSON.stringify(e)},beforeSend:function(e){e.setRequestHeader("X-Requested-With","XMLHttpRequest")},error:function(e,t,a){return console.log(t+": "+a),!1},success:function(e){"success"==e.status&&e.data&&Object.keys(e.data).length>0?$.each(e.data,(function(e,t){if("success"==t.status&&t.data){if("xml"==t.type){var s=0,r=FCBase.rss.data[e],n=$(r.selector);if(n.length>0){var o=$.parseXML(t.data),i=!1;$(o).find("item").length>0?i=$(o).find("item"):$(o).find("entry").length>0&&(i=$(o).find("entry")),i?(n.empty(),i.each((function(e){if(r.total&&s>=r.total)return r.callback&&r.callback.constructor===Function&&r.callback(),!1;var t=!1,n=!1,o=!1,c=!1,l=!1,d=!1,g=!1,h=!1,m=!1,u=!1,x=!1,p=!1,f=!1,T=!1,C=!1,F=!1,S=!1,y=!1,I=[],b=$("title",this),D=$("category",this),B=$("pubDate",this),v=$("modified",this),E=$("date",this),M=$("dc\\:date",this),O=$("author",this),k=$("creator",this),w=($("dc\\:author",this),$("dc\\:creator",this),$("link",this)),A=$("guid",this),N=$("description",this),R=$("content",this),U=$("content\\:encoded",this);if(b.text()){t=b.text();var H=b.text().length;r.maxTitle&&(t=t.substring(0,r.maxTitle-1),r.endText&&r.maxTitle<H&&(t+=r.endText))}if(D.text()&&(n=D.text()),B.text()?o=B.text():v.text()?o=v.text():E.text()?o=E.text():M.text()&&(o=M.text()),o){var L=new Date(o);if(L)if("undefined"==typeof Intl){var z=new Array("Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"),G=new Array("January","February","March","April","May","June","July","August","September","October","November","December");c=L.getUTCFullYear(),l=a(L.getUTCMonth()+1),g=(d=G[L.getUTCMonth()])?d.substr(0,3):null,u=a(L.getUTCDate()),m=(h=z[L.getUTCDate()])?h.substr(0,3):null,x=a(L.getUTCHours()),p=a(L.getUTCMinutes()),f=a(L.getUTCSeconds())}else c=new Intl.DateTimeFormat(FCBase.rss.locale,{year:"numeric"}).format(L),l=new Intl.DateTimeFormat(FCBase.rss.locale,{month:"2-digit"}).format(L),d=new Intl.DateTimeFormat(FCBase.rss.locale,{month:"long"}).format(L),g=new Intl.DateTimeFormat(FCBase.rss.locale,{month:"short"}).format(L),h=new Intl.DateTimeFormat(FCBase.rss.locale,{weekday:"long"}).format(L),m=new Intl.DateTimeFormat(FCBase.rss.locale,{weekday:"short"}).format(L),u=new Intl.DateTimeFormat(FCBase.rss.locale,{day:"2-digit"}).format(L),x=new Intl.DateTimeFormat(FCBase.rss.locale,{hour:"2-digit"}).format(L),p=new Intl.DateTimeFormat(FCBase.rss.locale,{minute:"2-digit"}).format(L),f=new Intl.DateTimeFormat(FCBase.rss.locale,{second:"2-digit"}).format(L)}if(O.text()?T=O.text():k.text()?T=k.text():O.text()?T=O.text():k.text()&&(T=k.text()),w.text()?C=w.text():w.attr("href").length>0?C=w.attr("href"):A.text()&&(C=A.text()),N.text()){(F=N.text()).replace(/\s+/g,"").replace(" ","");var P=F.length;r.maxDesc&&(F=F.substring(0,r.maxDesc-1),r.endText&&r.maxDesc<P&&(F+=r.endText))}if(R.text()?S=R.text():R.context&&R.context.textContent?S=R.context.textContent:U.text()?S=U.text():U.context&&U.context.textContent&&(S=U.context.textContent),void 0===r.ImageSize?r.ImageSize={width:300,height:200}:void 0===r.noImage&&(r.noImage="https://via.placeholder.com/300x200.png?text=Test+No+Image",console.log("aaaaaa")),S){var Y=$.parseHTML("<div>"+S+"</div>"),q=$(Y).find("img");if($(this).find("thumbnail").text()){var J=$(this).find("thumbnail").text();y='<img src="'+J+'" alt="'+(t?t.replace(/<("[^"]*"|'[^']*'|[^'">])*>/g,""):"")+'">',I.push(J)}q.each((function(){var e=$(this).attr("src");e&&!e.match("s.w.org")&&(I.push(e),y||(y='<span style="display:block; background: url('+e+") no-repeat center center; background-size:cover; width:"+r.ImageSize.width+"px; height:"+r.ImageSize.height+'px;"></span>'))})),!y&&r.noImage&&(y='<span style="display:block; background: url('+r.noImage+") no-repeat center center; background-size:cover; width:"+r.ImageSize.width+"px; height:"+r.ImageSize.height+'px;"></span>')}if(t&&!t.match("PR")){var K=r.template;K=K.replace(/\{YEARS?\}/gi,c||"").replace(/\{MONTHS?\}/gi,l||"").replace(/\{DAYS?\}/gi,u||"").replace(/\{HOURS?\}/gi,x||"").replace(/\{MINUTES?\}/gi,p||"").replace(/\{SECONDS?\}/gi,f||"").replace(/\{MONTHS?-LONG\}/gi,d||"").replace(/\{MONTHS?-SHORT\}/gi,g||"").replace(/\{WEEKDAYS?-LONG\}/gi,h||"").replace(/\{WEEKDAYS?-SHORT\}/gi,m||"").replace(/\{DATE\}/gi,c&&l&&u?c+"-"+l+"-"+u:"").replace(/\{TIME\}/gi,x&&p&&f?x+":"+p+":"+f:"").replace(/\{(URL|LINK|PERMALINK)\}/gi,C||"").replace(/\{(USERS?|AUTHORS?|CREATOR)\}/gi,T||"").replace(/\{(CAT|CATEGORY|CATEGORIES)\}/gi,n||"").replace(/\{(TITLE|NAME)\}/gi,t||"").replace(/\{(DESC|DESCRIPTION)\}/gi,F||"").replace(/\{(CONTENT|POST|DETAIL)S?\}/gi,S||"").replace(/\{(IMG|IMAGE|PHOTO|THUMB|THUMBNAIL)S?\}/gi,y||""),$(r.selector).append(K),s++}e>=i.length-1&&r.callback&&r.callback.constructor===Function&&r.callback()}))):console.info("No results found")}else console.error(r.selector,"element does not exist")}}else console.error(t.http_code,t.request_url+"\n"+t.message)})):console.error(e.message)}}).done((function(){FCBase.rss.callback&&FCBase.rss.callback.constructor===Function&&callback.call(this)}))},$(document).ready((function(){var e={};$.each(FCBase.rss.data,(function(t,a){var s=Math.random().toString(36).substring(3);a.selector?$(a.selector).length>0?(e[s]={key:s,url:a.url,page:a.page},FCBase.rss.data[s]=a,delete FCBase.rss.data[t]):console.error(a.selector,"element does not exist"):console.error("Missing `selector`")})),$.rssFeed(e)}));